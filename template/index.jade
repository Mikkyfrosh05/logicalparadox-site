extends layout

block header
  h1= file.title

block content
  - if (files.code)
    .widget#code
      .controls
        .arrow-prev prev
        .arrow-next next
        .position
      .panels
      .blocks
        - for (var i = 0; i < files.code.length; i++)
          - var repo = files.code[i]
          .block 
            .wrap
              h3
                a(href=repo.href)= repo.title
                .version= repo.version
              .summary: p= repo.summary
              .repo: a(href=repo.repo) Fork on Github
              .docs: a(href=repo.docs) #{repo.docstitle}
    .widget-hidden
  article!= file.prepared
  - if (files.posts)
    .widget#recent-posts
      h3 Recent Posts
      ul
        - var len = (files.posts.length > 5) ? 5 : files.posts.length
        - for (var i = 0; i < len; i++)
          - var post = files.posts[i]
          li 
            h4: a(href=post.href) #{post.title}
            .summary= post.summary
